# 食品AI科研问答系统 - 快速开始

## 系统简介

基于 LlamaIndex + DeepSeek-R1 的智能科研问答系统，专为食品科学研究设计。

### 技术栈
- **LLM**: DeepSeek-R1 推理模型
- **嵌入**: BAAI/bge-small-zh-v1.5 (本地中文模型)
- **框架**: LlamaIndex RAG
- **前端**: Flask + HTML/CSS/JS

## 一、环境配置

### 1. API密钥配置

编辑 `.env` 文件：
```bash
DEEPSEEK_API_KEY=sk-4ab3c1d27c39499c982887661bd5b91e
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-reasoner
```

### 2. 安装依赖

```bash
pip install llama-index llama-index-llms-openai-like llama-index-embeddings-huggingface flask flask-cors
```

## 二、启动系统

### 方式1：Web界面（推荐）
```bash
./启动Flask应用.sh
# 或
python app.py
```
访问：http://localhost:5001

### 方式2：命令行测试
```bash
python notebooks/04_DeepSeek完整版.py
```

## 三、添加文献

### 直接放入目录
```bash
# 将文件放入指定目录
cp your_paper.pdf food_research_data/papers/
cp your_data.txt food_research_data/datasets/

# 重启系统自动加载
python app.py
```

### 支持的格式
- PDF (.pdf)
- Word (.docx, .doc)
- 文本文件 (.txt)
- Markdown (.md)

## 四、使用系统

### Web界面
1. 访问 http://localhost:5001
2. 在输入框输入问题
3. 点击"发送"按钮
4. 查看AI回答和参考文献

### 示例问题
- "食品中有哪些主要的天然抗氧化剂？"
- "如何检测食品中的重金属？"
- "比较苹果和橙子的营养价值"

## 五、核心文件

```
├── app.py                    # Flask后端主文件
├── .env                      # API配置
├── frontend/                 # HTML模板
├── static/                   # CSS/JS文件
├── food_research_data/       # 文献存储目录
│   ├── papers/              # 论文
│   └── datasets/            # 数据
└── notebooks/               # 示例脚本
    ├── 04_DeepSeek完整版.py
    └── 06_文献向量化演示.py
```

## 六、学习资源

### 核心文档（按顺序阅读）
1. **README.md** - 项目总览
2. **快速开始.md** - 本文档
3. **文献处理教程.md** - 文献上传和向量化
4. **DeepSeek-R1推理模型说明.md** - 模型说明
5. **本地嵌入模型说明.md** - 嵌入模型详解

### 示例脚本
- `notebooks/04_DeepSeek完整版.py` - 完整RAG系统
- `notebooks/06_文献向量化演示.py` - 向量化演示

## 七、常见问题

### Q: 如何更换模型？
A: 编辑 `app.py`，修改模型名称：
```python
Settings.llm = OpenAILike(
    model="deepseek-chat",  # 或 deepseek-reasoner
    ...
)
```

### Q: 如何查看系统状态？
A: 访问 http://localhost:5001/api/stats

### Q: 如何清空对话？
A: 点击Web界面的"新对话"按钮

### Q: 端口被占用怎么办？
A: 编辑 `app.py`，修改端口号：
```python
app.run(port=5002)
```

## 八、系统架构

```
用户问题
    ↓
【向量化】BGE嵌入模型
    ↓
【检索】LlamaIndex向量检索
    ↓
【推理】DeepSeek-R1模型
    ↓
高质量答案 + 参考文献
```

## 九、性能指标

- **初始化时间**: ~10秒
- **查询响应**: 10-30秒（R1推理模型）
- **文档加载**: 3个文档
- **向量维度**: 512维
- **检索数量**: 3个最相关结果

## 十、下一步

1. **添加文献**: 将你的科研文献放入 `food_research_data/`
2. **测试系统**: 提问并观察回答质量
3. **学习原理**: 阅读文献处理教程
4. **优化参数**: 调整检索和生成参数

---

**开始使用！**

```bash
python app.py
```

访问：http://localhost:5001

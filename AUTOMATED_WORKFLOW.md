# ğŸš€ SweetSeek è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹

## ğŸ“‹ ç›®æ ‡
è®©æ·»åŠ æ–°æ–‡çŒ®å˜å¾—**ç®€å•ã€å¿«é€Ÿã€è‡ªåŠ¨åŒ–**ï¼Œé€‚åº”é•¿æœŸæ›´æ–°è¿­ä»£ã€‚

---

## ğŸ¯ ä¸‰ç§è‡ªåŠ¨åŒ–æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šæ–‡ä»¶ç›‘æ§ï¼ˆæœ€è‡ªåŠ¨ï¼‰â­â­â­â­â­

**ç‰¹ç‚¹**ï¼šæ‹–å…¥æ–‡ä»¶å³è‡ªåŠ¨å¤„ç†ï¼Œå®Œå…¨æ— éœ€æ‰‹åŠ¨æ“ä½œ

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# 1. å®‰è£…ä¾èµ–
pip install watchdog

# 2. å¯åŠ¨ç›‘æ§ç³»ç»Ÿï¼ˆåœ¨åå°è¿è¡Œï¼‰
python3 auto_update_system.py &

# 3. æ­£å¸¸å¯åŠ¨æœåŠ¡å™¨
python3 app.py

# 4. æ·»åŠ æ–‡çŒ®ï¼ˆç›´æ¥æ‹–å…¥æ–‡ä»¶ï¼‰
# å°†PDFæ‹–åˆ° food_research_data/papers/ ç›®å½•
# ç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
#   - æ£€æµ‹æ–°æ–‡ä»¶
#   - æå–å…ƒæ•°æ®
#   - å¢é‡ç´¢å¼•
#   - æ— éœ€é‡å¯
```

**ä¼˜ç‚¹**ï¼š
- âœ… å®Œå…¨è‡ªåŠ¨åŒ–
- âœ… å®æ—¶å¤„ç†
- âœ… æ— éœ€æ‰‹åŠ¨æ“ä½œ
- âœ… æ”¯æŒæ‰¹é‡æ·»åŠ 

**é€‚ç”¨åœºæ™¯**ï¼š
- é•¿æœŸè¿è¡Œçš„æœåŠ¡å™¨
- é¢‘ç¹æ·»åŠ æ–‡çŒ®
- å¤šäººåä½œ

---

### æ–¹æ¡ˆ2ï¼šWebä¸Šä¼ ï¼ˆæœ€æ–¹ä¾¿ï¼‰â­â­â­â­

**ç‰¹ç‚¹**ï¼šé€šè¿‡ç½‘é¡µä¸Šä¼ ï¼Œè‡ªåŠ¨ä½¿ç”¨å¢é‡ç´¢å¼•

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# 1. è®¿é—®ä¸Šä¼ é¡µé¢
http://localhost:5001/upload.html

# 2. é€‰æ‹©PDFæ–‡ä»¶

# 3. ç‚¹å‡»ä¸Šä¼ 
# ç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
#   - ä¿å­˜æ–‡ä»¶
#   - æå–å…ƒæ•°æ®
#   - å¢é‡ç´¢å¼•ï¼ˆâ‰¤20ä¸ªæ–‡ä»¶ï¼‰
#   - æˆ–å…¨é‡é‡å»ºï¼ˆ>20ä¸ªæ–‡ä»¶ï¼‰
```

**ä¼˜ç‚¹**ï¼š
- âœ… å›¾å½¢ç•Œé¢
- âœ… è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜æ–¹æ³•
- âœ… å®æ—¶åé¦ˆ
- âœ… æ”¯æŒæ‰¹é‡ä¸Šä¼ 

**é€‚ç”¨åœºæ™¯**ï¼š
- å¶å°”æ·»åŠ æ–‡çŒ®
- ä¸ç†Ÿæ‚‰å‘½ä»¤è¡Œ
- éœ€è¦å¯è§†åŒ–åé¦ˆ

---

### æ–¹æ¡ˆ3ï¼šå‘½ä»¤è¡Œè„šæœ¬ï¼ˆæœ€çµæ´»ï¼‰â­â­â­

**ç‰¹ç‚¹**ï¼šæ‰‹åŠ¨è¿è¡Œè„šæœ¬ï¼Œå®Œå…¨æ§åˆ¶

**ä½¿ç”¨æ–¹æ³•**ï¼š
```bash
# 1. æ·»åŠ æ–‡ä»¶åˆ°ç›®å½•
cp ~/Downloads/*.pdf food_research_data/papers/

# 2. è¿è¡Œå¢é‡ç´¢å¼•
python3 incremental_indexer.py

# 3. å®Œæˆï¼ˆæ— éœ€é‡å¯æœåŠ¡å™¨ï¼‰
```

**ä¼˜ç‚¹**ï¼š
- âœ… å®Œå…¨æ§åˆ¶
- âœ… å¯é›†æˆåˆ°è„šæœ¬
- âœ… é€‚åˆè‡ªåŠ¨åŒ–æµç¨‹

**é€‚ç”¨åœºæ™¯**ï¼š
- æ‰¹é‡å¯¼å…¥æ–‡çŒ®
- è‡ªåŠ¨åŒ–è„šæœ¬
- å®šæ—¶ä»»åŠ¡

---

## ğŸ”„ å®Œæ•´è‡ªåŠ¨åŒ–æµç¨‹

### æ¨èé…ç½®ï¼šæ–¹æ¡ˆ1ï¼ˆæ–‡ä»¶ç›‘æ§ï¼‰+ æ–¹æ¡ˆ2ï¼ˆWebä¸Šä¼ ï¼‰

```bash
# ç»ˆç«¯1ï¼šå¯åŠ¨æ–‡ä»¶ç›‘æ§
python3 auto_update_system.py &

# ç»ˆç«¯2ï¼šå¯åŠ¨æœåŠ¡å™¨
python3 app.py

# ç°åœ¨ä½ å¯ä»¥ï¼š
# 1. ç›´æ¥æ‹–æ–‡ä»¶åˆ°papersç›®å½• â†’ è‡ªåŠ¨å¤„ç†
# 2. é€šè¿‡ç½‘é¡µä¸Šä¼  â†’ è‡ªåŠ¨å¤„ç†
# 3. è¿è¡Œå‘½ä»¤è¡Œè„šæœ¬ â†’ æ‰‹åŠ¨è§¦å‘
```

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| æ–¹æ¡ˆ | æ·»åŠ 10ç¯‡ | æ·»åŠ 100ç¯‡ | è‡ªåŠ¨åŒ–ç¨‹åº¦ | éœ€è¦é‡å¯ |
|------|---------|-----------|-----------|---------|
| æ–‡ä»¶ç›‘æ§ | 10-20ç§’ | 2-3åˆ†é’Ÿ | â­â­â­â­â­ | å¦ |
| Webä¸Šä¼  | 10-20ç§’ | 2-3åˆ†é’Ÿ | â­â­â­â­ | å¦ |
| å‘½ä»¤è¡Œ | 10-20ç§’ | 2-3åˆ†é’Ÿ | â­â­â­ | å¦ |
| æ—§æ–¹æ³• | 30-60ç§’ | 10-15åˆ†é’Ÿ | â­ | æ˜¯ |

---

## ğŸ› ï¸ è¯¦ç»†é…ç½®

### 1. å®‰è£…ä¾èµ–

```bash
# åŸºç¡€ä¾èµ–ï¼ˆå·²å®‰è£…ï¼‰
pip install llama-index pypdf flask

# æ–‡ä»¶ç›‘æ§ä¾èµ–ï¼ˆæ–°å¢ï¼‰
pip install watchdog
```

### 2. é…ç½®æ–‡ä»¶ç›‘æ§

ç¼–è¾‘ `auto_update_system.py` çš„é…ç½®ï¼š

```python
# ç›‘æ§ç›®å½•
watch_dir = "./food_research_data"

# é˜²æŠ–æ—¶é—´ï¼ˆç§’ï¼‰- ç­‰å¾…æ–‡ä»¶å¤åˆ¶å®Œæˆ
debounce_seconds = 5

# æ”¯æŒçš„æ–‡ä»¶ç±»å‹
supported_extensions = ('.pdf', '.docx', '.txt', '.md', '.csv', '.json')
```

### 3. é…ç½®Webä¸Šä¼ 

ç¼–è¾‘ `app.py` çš„é…ç½®ï¼š

```python
# å¢é‡ç´¢å¼•é˜ˆå€¼ï¼ˆæ–‡ä»¶æ•°ï¼‰
INCREMENTAL_THRESHOLD = 20

# è¶…è¿‡æ­¤æ•°é‡è‡ªåŠ¨åˆ‡æ¢åˆ°å…¨é‡é‡å»º
if file_count > INCREMENTAL_THRESHOLD:
    use_full_rebuild = True
```

---

## ğŸ”§ é«˜çº§åŠŸèƒ½

### 1. åå°è¿è¡Œæ–‡ä»¶ç›‘æ§

```bash
# ä½¿ç”¨nohupåå°è¿è¡Œ
nohup python3 auto_update_system.py > watcher.log 2>&1 &

# æŸ¥çœ‹æ—¥å¿—
tail -f watcher.log

# åœæ­¢ç›‘æ§
pkill -f auto_update_system.py
```

### 2. å®šæ—¶æ‰¹é‡å¤„ç†

åˆ›å»ºcronä»»åŠ¡ï¼š

```bash
# ç¼–è¾‘crontab
crontab -e

# æ¯å¤©å‡Œæ™¨2ç‚¹è¿è¡Œå¢é‡ç´¢å¼•
0 2 * * * cd /path/to/SweetSeek && python3 incremental_indexer.py >> cron.log 2>&1
```

### 3. é›†æˆåˆ°å¯åŠ¨è„šæœ¬

ä¿®æ”¹ `start.sh`ï¼š

```bash
#!/bin/bash

# å¯åŠ¨æ–‡ä»¶ç›‘æ§
python3 auto_update_system.py &
WATCHER_PID=$!

# å¯åŠ¨æœåŠ¡å™¨
python3 app.py

# æ¸…ç†
kill $WATCHER_PID
```

---

## ğŸ“ˆ å·¥ä½œæµç¨‹å›¾

```
æ–°æ–‡çŒ®æ·»åŠ 
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–¹å¼1: æ‹–å…¥æ–‡ä»¶                 â”‚
â”‚  æ–¹å¼2: Webä¸Šä¼                   â”‚
â”‚  æ–¹å¼3: å‘½ä»¤è¡Œè„šæœ¬               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‡ªåŠ¨æ£€æµ‹æ–°æ–‡ä»¶                  â”‚
â”‚  - æ–‡ä»¶ç›‘æ§å™¨å®æ—¶æ£€æµ‹            â”‚
â”‚  - æˆ–æ‰‹åŠ¨è§¦å‘æ£€æµ‹                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‡ªåŠ¨æå–å…ƒæ•°æ®                  â”‚
â”‚  - æœŸåˆŠå                        â”‚
â”‚  - å¹´ä»½                          â”‚
â”‚  - æ ‡é¢˜                          â”‚
â”‚  - ä½œè€…                          â”‚
â”‚  - DOI                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è‡ªåŠ¨å¢é‡ç´¢å¼•                    â”‚
â”‚  - åªå¤„ç†æ–°æ–‡ä»¶                  â”‚
â”‚  - å‘é‡åŒ–                        â”‚
â”‚  - æ’å…¥ç´¢å¼•                      â”‚
â”‚  - æŒä¹…åŒ–                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç«‹å³å¯ç”¨                        â”‚
â”‚  - æ— éœ€é‡å¯æœåŠ¡å™¨                â”‚
â”‚  - æ–°æ–‡çŒ®ç«‹å³å¯æ£€ç´¢              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æœ€ä½³å®è·µ

### æ—¥å¸¸ä½¿ç”¨

```bash
# 1. å¯åŠ¨ç³»ç»Ÿï¼ˆåªéœ€ä¸€æ¬¡ï¼‰
./start.sh

# 2. æ·»åŠ æ–‡çŒ®ï¼ˆéšæ—¶ï¼‰
# æ–¹å¼Aï¼šç›´æ¥æ‹–æ–‡ä»¶åˆ°papersç›®å½•
# æ–¹å¼Bï¼šé€šè¿‡ç½‘é¡µä¸Šä¼ 

# 3. ä½¿ç”¨ç³»ç»Ÿï¼ˆç«‹å³ï¼‰
# æ–°æ–‡çŒ®è‡ªåŠ¨å¯ç”¨ï¼Œæ— éœ€ç­‰å¾…
```

### æ‰¹é‡å¯¼å…¥

```bash
# 1. å¤åˆ¶æ‰€æœ‰æ–‡ä»¶
cp ~/è®ºæ–‡é›†/*.pdf food_research_data/papers/

# 2. ç­‰å¾…è‡ªåŠ¨å¤„ç†ï¼ˆå¦‚æœå¯ç”¨äº†æ–‡ä»¶ç›‘æ§ï¼‰
# æˆ–æ‰‹åŠ¨è¿è¡Œ
python3 incremental_indexer.py

# 3. éªŒè¯
curl http://localhost:5001/api/stats
```

### å®šæœŸç»´æŠ¤

```bash
# æ¯å‘¨æ£€æŸ¥ä¸€æ¬¡
python3 -c "
from incremental_indexer import IncrementalIndexer
indexer = IncrementalIndexer()
new_files = indexer.get_new_files()
print(f'å‘ç° {len(new_files)} ä¸ªæ–°æ–‡ä»¶')
"

# å¦‚æœæœ‰æ–°æ–‡ä»¶ï¼Œè¿è¡Œå¢é‡ç´¢å¼•
python3 incremental_indexer.py
```

---

## ğŸš¨ æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šæ–‡ä»¶ç›‘æ§ä¸å·¥ä½œ

**æ£€æŸ¥**ï¼š
```bash
# æ£€æŸ¥watchdogæ˜¯å¦å®‰è£…
python3 -c "import watchdog; print('âœ… å·²å®‰è£…')"

# æ£€æŸ¥ç›‘æ§è¿›ç¨‹æ˜¯å¦è¿è¡Œ
ps aux | grep auto_update_system
```

**è§£å†³**ï¼š
```bash
# é‡æ–°å®‰è£…watchdog
pip install --upgrade watchdog

# é‡å¯ç›‘æ§
pkill -f auto_update_system
python3 auto_update_system.py &
```

---

### é—®é¢˜2ï¼šå…ƒæ•°æ®æå–ä¸æ­£ç¡®

**æ£€æŸ¥**ï¼š
```bash
# æµ‹è¯•å•ä¸ªæ–‡ä»¶
python3 -c "
from pdf_metadata_extractor import PDFMetadataExtractor
extractor = PDFMetadataExtractor()
metadata = extractor.extract_metadata('food_research_data/papers/xxx.pdf')
print(metadata)
"
```

**è§£å†³**ï¼š
```bash
# é‡æ–°æå–æ‰€æœ‰å…ƒæ•°æ®
python3 -c "
from metadata_storage import MetadataStorage
from pdf_metadata_extractor import PDFMetadataExtractor
import os

storage = MetadataStorage()
extractor = PDFMetadataExtractor()

for filename in os.listdir('food_research_data/papers'):
    if filename.endswith('.pdf'):
        path = os.path.join('food_research_data/papers', filename)
        metadata = extractor.extract_metadata(path)
        storage.save_metadata(path, metadata)
        print(f'âœ… {filename}')
"
```

---

### é—®é¢˜3ï¼šå¢é‡ç´¢å¼•å¤±è´¥

**æ£€æŸ¥**ï¼š
```bash
# æ£€æŸ¥è·Ÿè¸ªæ–‡ä»¶
cat storage/indexed_files.json

# æ£€æŸ¥ç´¢å¼•çŠ¶æ€
curl http://localhost:5001/api/stats
```

**è§£å†³**ï¼š
```bash
# é‡å»ºè·Ÿè¸ªæ–‡ä»¶
python3 incremental_indexer.py --rebuild-tracking

# é‡æ–°è¿è¡Œå¢é‡ç´¢å¼•
python3 incremental_indexer.py
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¢é‡ç´¢å¼•è¯¦è§£](./HOW_TO_ADD_PAPERS.md)
- [æ‰©å±•æ–¹æ¡ˆ](./SCALABILITY_SOLUTION.md)
- [æŠ€æœ¯æ–‡æ¡£](./TECHNICAL_DOCUMENTATION.md)

---

## ğŸ‰ æ€»ç»“

ç°åœ¨æ·»åŠ æ–°æ–‡çŒ®åªéœ€ï¼š

1. **æ‹–å…¥æ–‡ä»¶** â†’ è‡ªåŠ¨å¤„ç† âœ…
2. **æˆ–ç½‘é¡µä¸Šä¼ ** â†’ è‡ªåŠ¨å¤„ç† âœ…
3. **æˆ–è¿è¡Œè„šæœ¬** â†’ æ‰‹åŠ¨è§¦å‘ âœ…

**æ— éœ€**ï¼š
- âŒ é‡å¯æœåŠ¡å™¨
- âŒ æ‰‹åŠ¨æå–å…ƒæ•°æ®
- âŒ é‡å»ºæ•´ä¸ªç´¢å¼•
- âŒ ç­‰å¾…å¾ˆé•¿æ—¶é—´

**æ•ˆæœ**ï¼š
- âœ… 10-20ç§’æ·»åŠ æ–°æ–‡çŒ®
- âœ… ç«‹å³å¯ç”¨
- âœ… å®Œå…¨è‡ªåŠ¨åŒ–
- âœ… é€‚åº”é•¿æœŸè¿­ä»£

ğŸš€ **äº«å—è‡ªåŠ¨åŒ–å¸¦æ¥çš„ä¾¿åˆ©å§ï¼**
